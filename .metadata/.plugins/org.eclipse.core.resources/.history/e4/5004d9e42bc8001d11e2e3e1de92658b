package com.co.uniquindio.microservicios.controller;

import java.net.URI;

import org.springframework.web.bind.annotation.PostMapping;
import org.springframework.web.bind.annotation.RequestBody;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RestController;

import jakarta.ws.rs.core.MediaType;
import jakarta.ws.rs.core.Response;
import jakarta.ws.rs.core.UriBuilder;

@RestController
@RequestMapping(path="/pago")
public class PagoController {
	
	@PostMapping
	public Response add(@RequestBody Pago val) {
		
		if(val!= null) {
			URI uri = UriBuilder.fromPath("/{id}").build(val.getRefVenta());
	        return Response.created(uri)
	                .entity(val).header("Authorization","Bearer "+val.getRefVenta()).build() ;
		}
		else {
			
			return Response
	                .status(Response.Status.UNAUTHORIZED)
	                .type(MediaType.APPLICATION_JSON_TYPE)
	                .entity(val)
	                .build();
		}
		//val.setEstadoId(2);
		//val.setVoucherId("UHIAUSD8966asdD");
		
		//return val;
	}

}
